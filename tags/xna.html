<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1"><meta name=description content=""><meta name=author content="Zachary Snow"><title>Xna</title><base href=../ ><link href="https://fonts.googleapis.com/css?family=Open+Sans" rel=stylesheet><link rel=stylesheet type=text/css href=css/style.css><link rel=alternate type=application/rss+xml title="The Blog of Zachary Snow" href=feed.rss><div class=wrap><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><h1><a class=navbar-brand href=/ >The Blog of Zachary Snow</a></h1><button id=navbar-toggler class=navbar-toggler type=button aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation"><span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=index.html>Home</a><li class=nav-item><a class=nav-link href=about.html>About</a><li class=nav-item><a class=nav-link href=tags.html>Tags</a></ul><div class="social my-2 my-lg-0"><a href=https://twitter.com/smack0007 class=twitter title=Twitter><span class=icon-twitter></span></a> <a href=https://github.com/smack0007 class=github title=Github><span class=icon-github></span></a> <a href=https://paypal.me/smack0007 class=coffee title="Buy me a Coffee"><span class=icon-mug></span></a> <a href=feed.rss class=rss title=RSS><span class=icon-rss></span></a></div></div></nav><main class=container><div class=posts><div class=post><h2><a href=blog/2011/what-is-snowball-and-what-do-i-want-to-do-with-it.html>What is Snowball and what do I want to do with it?</a></h2><div class=meta><span class=date><span class=icon-calendar></span>October 16, 2011</span> <span class=tags><span class=icon-price-tags></span>2d, C#, CodePlex, Open Source, SlimDX, Xna</span></div><div class=content><p>I originally got the idea for Snowball after working with the Xna Framework. The Xna Framework is a good piece of software for what it is but there are some things about which I just do not agree with:<ul><li>The content pipeline only works with content in the serialized .xnb format.<li>There are certain content types which can only be loaded via the content pipeline.<li>Certain features don't exist on the PC because they don't exist on the XBox or Windows Phone 7.</ul><p>Xna was designed as an abstraction layer for all the 3 platforms mentioned in the last point, so that one is somewhat understandable. I don't want to write games for my XBox right now though, so why should things like drawing lines not be available to me?<p>With these points in mind I started working on <a href=http://snowball.codeplex.com/ >Snowball</a>. It's designed to be an Xna like framework for making 2D games. It uses SlimDX on the backend, but that is completely abstracted away from consumers of the framework. What I want to do is design the API so that the backend can be swapped out <strong>somewhat</strong> painlessly.<p>I still have a ways to go before I will consider it a version 1.0 release. As of this writing, I'm transitioning to more of a ContentLoader class style for loading your game's content. Any resource type from within the framework can be loaded by hand if you want, the ContentLoader class will just make it easier. After that I have a few other features like GamePad and Music which I would like to implement before saying I have a Beta type release.<p>The future after that is up in the air. I would love to try and have different implementations of the API for Xna and/or OpenTK.<p>I recommend for anyone who is interested as to why an API designer choose to implement the API in the way they did to try it for themselves. I have learned many things from this project including why certain design decisions were made by the Xna Framework team.</div></div><div class=post><h2><a href=blog/2010/500-downloads-of-the-same-game.html>500 Downloads of the Same Game</a></h2><div class=meta><span class=date><span class=icon-calendar></span>June 09, 2010</span> <span class=tags><span class=icon-price-tags></span>.NET, CodePlex, Same Game Xna, WinForms, Xna</span></div><div class=content><p>My little Xna game that I wrote nearly 2 years ago reached the 500 downloads mark (binaries and source) the other day. With that said, I'd like to say that I'm working on version 2.0.<p>In version 2.0 I'm going to make the code more event driven. The old code uses the Xna Game class and in the new version I'll be making it WinForms based. Almost a complete rewrite.<p>My work so far is available through SVN on the project's <a href=http://samegamexna.codeplex.com/ >Codeplex page</a>.</div></div><div class=post><h2><a href=blog/2010/drawing-rectangles-with-spritebatch.html>Drawing Rectangles with SpriteBatch</a></h2><div class=meta><span class=date><span class=icon-calendar></span>March 29, 2010</span> <span class=tags><span class=icon-price-tags></span>C#, Code Snippets, Xna</span></div><div class=content><p>Just a quick code snippet which adds an extension method for drawing Rectangles to SpriteBatch:
<pre><code class="hljs csharp"><span class=hljs-keyword>public</span> <span class=hljs-keyword>static</span> <span class=hljs-keyword>class</span> <span class=hljs-title>SpriteBatchHelper</span>
{
	<span class=hljs-keyword>static</span> Texture2D pixel;

	<span class=hljs-function><span class=hljs-keyword>private</span> <span class=hljs-keyword>static</span> <span class=hljs-keyword>void</span> <span class=hljs-title>LoadPixel</span>(<span class=hljs-params>GraphicsDevice graphicsDevice</span>)</span>
	{
		<span class=hljs-keyword>if</span>(pixel == <span class=hljs-literal>null</span>)
		{
			pixel = <span class=hljs-keyword>new</span> Texture2D(graphicsDevice, <span class=hljs-number>1</span>, <span class=hljs-number>1</span>);
			pixel.SetData&amp;lt;Color&amp;gt;(<span class=hljs-keyword>new</span> Color[] { Color.White });
		}
	}

	<span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>static</span> <span class=hljs-keyword>void</span> <span class=hljs-title>DrawRectangle</span>(<span class=hljs-params><span class=hljs-keyword>this</span> SpriteBatch spriteBatch, Rectangle rectangle, Color color</span>)</span>
	{
		LoadPixel(spriteBatch.GraphicsDevice);
		spriteBatch.Draw(pixel, rectangle, color);
	}
}</code></pre></div></div><div class=post><h2><a href=blog/2009/calculating-an-angle-from-a-vector2.html>Calculating an angle from a Vector2</a></h2><div class=meta><span class=date><span class=icon-calendar></span>February 28, 2009</span> <span class=tags><span class=icon-price-tags></span>.net, vectors, xna</span></div><div class=content><p>When you need to calculate an angle from a Vector2 structure, you can use this piece of code:
<pre><code class="hljs csharp"><span class=hljs-keyword>public</span> <span class=hljs-keyword>static</span> <span class=hljs-keyword>class</span> <span class=hljs-title>Vector2Helper</span>
{
	<span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>static</span> <span class=hljs-keyword>float</span> <span class=hljs-title>CalculateAngle</span>(<span class=hljs-params>Vector2 v</span>)</span>
	{
		<span class=hljs-keyword>float</span> angle = <span class=hljs-number>0.0f</span>;

		<span class=hljs-keyword>if</span>(v != Vector2.Zero)
		{
			v.Normalize();

			angle = (<span class=hljs-keyword>float</span>)Math.Acos(v.Y);

			<span class=hljs-keyword>if</span>(v.X &amp;lt; <span class=hljs-number>0.0f</span>)
			angle = -angle;
		}

		<span class=hljs-keyword>return</span> angle;
	}
}</code></pre><p>I used this to calculate an angle from the Vector2 of the Left Stick.<p>The original credit for this source code comes from <a href=http://xnagamer.spaces.live.com/blog/cns!EC20BAAE6808B682!139.entry>here</a>.</div></div><div class=post><h2><a href=blog/2009/spritesheet-class.html>SpriteSheet Class</a></h2><div class=meta><span class=date><span class=icon-calendar></span>January 09, 2009</span> <span class=tags><span class=icon-price-tags></span>.NET, SpriteSheet, XNA</span></div><div class=content><p>I've been talking with a guy on the creator forums lately about SpriteSheets and so I decided it might be a good idea to post my SpriteSheet class.<p>It's very simple. Only reads sprites from left to right and assumes all Sprites are the same width and height.
<pre><code class="hljs csharp"><span class=hljs-meta>#<span class=hljs-meta-keyword>region</span> Using</span>
<span class=hljs-keyword>using</span> System;
<span class=hljs-keyword>using</span> Microsoft.Xna.Framework;
<span class=hljs-keyword>using</span> Microsoft.Xna.Framework.Graphics;
<span class=hljs-meta>#<span class=hljs-meta-keyword>endregion</span></span>

<span class=hljs-keyword>namespace</span> <span class=hljs-title>Snow.Xna.Graphics</span>
{
	<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;summary></span></span>
	<span class=hljs-comment><span class=hljs-doctag>///</span> Spritesheet class.</span>
	<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;/summary></span></span>
	<span class=hljs-keyword>public</span> <span class=hljs-keyword>class</span> <span class=hljs-title>SpriteSheet</span>
	{
		<span class=hljs-meta>#<span class=hljs-meta-keyword>region</span> Fields</span>

		<span class=hljs-keyword>string</span> name;

		Texture2D texture;

		Rectangle[] rectangles;

		<span class=hljs-keyword>int</span> spriteWidth, spriteHeight;

		<span class=hljs-meta>#<span class=hljs-meta-keyword>endregion</span></span>

		<span class=hljs-meta>#<span class=hljs-meta-keyword>region</span> Properties</span>

		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;summary></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> The name of this SpriteSheet.</span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;/summary></span></span>
		<span class=hljs-keyword>public</span> <span class=hljs-keyword>string</span> Name
		{
			<span class=hljs-keyword>get</span> { <span class=hljs-keyword>return</span> name; }
		}

		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;summary></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> The texture for this SpriteSheet.</span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;/summary></span></span>
		<span class=hljs-keyword>public</span> Texture2D Texture
		{
			<span class=hljs-keyword>get</span> { <span class=hljs-keyword>return</span> texture; }
		}

		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;summary></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> Returns a rectangle for a sprite in the SpriteSheet.</span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;/summary></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;param name="i"></span>index<span class=hljs-doctag>&lt;/param></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;returns></span><span class=hljs-doctag>&lt;/returns></span></span>
		<span class=hljs-keyword>public</span> Rectangle <span class=hljs-keyword>this</span>[<span class=hljs-keyword>int</span> i]
		{
			<span class=hljs-keyword>get</span> { <span class=hljs-keyword>return</span> rectangles[i]; }
		}

		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;summary></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> The number of sprites in this SpriteSheet.</span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;/summary></span></span>
		<span class=hljs-keyword>public</span> <span class=hljs-keyword>int</span> Count
		{
			<span class=hljs-keyword>get</span> { <span class=hljs-keyword>return</span> rectangles.Length; }
		}

		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;summary></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> The width of the texture.</span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;/summary></span></span>
		<span class=hljs-keyword>public</span> <span class=hljs-keyword>int</span> Width
		{
			<span class=hljs-keyword>get</span> { <span class=hljs-keyword>return</span> texture.Width; }
		}

		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;summary></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> The width of each sprite in the SpriteSheet.</span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;/summary></span></span>
		<span class=hljs-keyword>public</span> <span class=hljs-keyword>int</span> SpriteWidth
		{
			<span class=hljs-keyword>get</span> { <span class=hljs-keyword>return</span> spriteWidth; }
		}

		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;summary></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> The height of the texture.</span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;/summary></span></span>
		<span class=hljs-keyword>public</span> <span class=hljs-keyword>int</span> Height
		{
			<span class=hljs-keyword>get</span> { <span class=hljs-keyword>return</span> texture.Height; }
		}

		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;summary></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> The height of each sprite in the SpriteSheet.</span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;/summary></span></span>
		<span class=hljs-keyword>public</span> <span class=hljs-keyword>int</span> SpriteHeight
		{
			<span class=hljs-keyword>get</span> { <span class=hljs-keyword>return</span> spriteHeight; }
		}

		<span class=hljs-meta>#<span class=hljs-meta-keyword>endregion</span></span>

		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;summary></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> Create a new SpriteSheet and determine the number of sprites in the sheet.</span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;/summary></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;param name="texture"></span><span class=hljs-doctag>&lt;/param></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;param name="spriteWidth"></span>Width of each sprite.<span class=hljs-doctag>&lt;/param></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;param name="spriteHeight"></span>Height of each sprite.<span class=hljs-doctag>&lt;/param></span></span>
		<span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-title>SpriteSheet</span>(<span class=hljs-params><span class=hljs-keyword>string</span> name, Texture2D texture, <span class=hljs-keyword>int</span> spriteWidth, <span class=hljs-keyword>int</span> spriteHeight</span>)
			: <span class=hljs-title>this</span>(<span class=hljs-params>name, texture, spriteWidth, spriteHeight, <span class=hljs-number>0</span></span>)</span>
		{
		}

		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;summary></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> Create a new SpriteSheet.</span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;/summary></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;param name="texture"></span><span class=hljs-doctag>&lt;/param></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;param name="spriteWidth"></span>Width of each sprite.<span class=hljs-doctag>&lt;/param></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;param name="spriteHeight"></span>Height of each sprite.<span class=hljs-doctag>&lt;/param></span></span>
		<span class=hljs-comment><span class=hljs-doctag>///</span> <span class=hljs-doctag>&lt;param name="count"></span>The number of sprites in the sheet.<span class=hljs-doctag>&lt;/param></span></span>
		<span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-title>SpriteSheet</span>(<span class=hljs-params><span class=hljs-keyword>string</span> name, Texture2D texture, <span class=hljs-keyword>int</span> spriteWidth, <span class=hljs-keyword>int</span> spriteHeight, <span class=hljs-keyword>int</span> count</span>)</span>
		{
			<span class=hljs-keyword>this</span>.name = name;
			<span class=hljs-keyword>this</span>.texture = texture;
			<span class=hljs-keyword>this</span>.spriteWidth = spriteWidth;
			<span class=hljs-keyword>this</span>.spriteHeight = spriteHeight;

			<span class=hljs-keyword>if</span>(count == <span class=hljs-number>0</span>)
			{
				<span class=hljs-keyword>int</span> numX = texture.Width / spriteWidth;
				<span class=hljs-keyword>int</span> numY = texture.Height / spriteHeight;

				rectangles = <span class=hljs-keyword>new</span> Rectangle[numX * numY];
			}
			<span class=hljs-keyword>else</span>
			{
				rectangles = <span class=hljs-keyword>new</span> Rectangle[count];
			}

			<span class=hljs-keyword>int</span> x = <span class=hljs-number>0</span>, y = <span class=hljs-number>0</span>;
			<span class=hljs-keyword>for</span>(<span class=hljs-keyword>int</span> i = <span class=hljs-number>0</span>; i &lt; rectangles.Length; i++)
			{
				rectangles[i] = <span class=hljs-keyword>new</span> Rectangle(x, y, spriteWidth, spriteHeight);

				x += spriteWidth;
				<span class=hljs-keyword>if</span>(x >= texture.Width)
				{
					x = <span class=hljs-number>0</span>;
					y += spriteHeight;
				}
			}
		}

		<span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>static</span> <span class=hljs-keyword>implicit</span> <span class=hljs-keyword>operator</span> <span class=hljs-title>Texture2D</span>(<span class=hljs-params>SpriteSheet spriteSheet</span>)</span>
		{
			<span class=hljs-keyword>return</span> spriteSheet.Texture;
		}
	}
}</code></pre><p>You can create a new SpriteSheet and use it like this:<p>`
<pre><code class="hljs csharp">SpriteSheet spriteSheet = <span class=hljs-keyword>new</span> SpriteSheet(<span class=hljs-string>"tiles"</span>, Content.Load&lt;texture2D>(<span class=hljs-string>"tiles"</span>), <span class=hljs-number>64</span>, <span class=hljs-number>64</span>);

spriteBatch.Begin();

spriteBatch.Draw(spriteSheet,
		        <span class=hljs-keyword>new</span> Rectangle(<span class=hljs-number>0</span>, <span class=hljs-number>0</span>, spriteSheet.SpriteWidth, spriteSheet.SpriteHeight),
			spriteSheet[<span class=hljs-number>0</span>],
			Color.White);

spriteBatch.End();</code></pre><p>`<p>Which loads a spritesheet with sprites of size 64x64. It then draws the first Sprite in the SpriteSheet. You of course wouldn't want to load the spritesheet every frame as well.<p>Feel free to use this code without restriction.<p><strong>Edit:</strong> I copied and pasted the second piece of code from somewhere else so I fixed two typos.</div></div><div class=post><h2><a href=blog/2008/colors-and-hex.html>Colors and Hex</a></h2><div class=meta><span class=date><span class=icon-calendar></span>December 21, 2008</span> <span class=tags><span class=icon-price-tags></span>.NET, XNA</span></div><div class=content><p>I recently needed to write out Color(s) as an xml attribute. I wrote 2 methods to read and write the Color(s) as Hex strings. Here ya go:</p><a class=readMore href=blog/2008/colors-and-hex.html>Read More</a></div></div></div><div class=clear></div></main><footer class="p-13 p-md-5 mt-5 text-center text-muted bg-light"><div class=container><ul class=links><li><a href=https://twitter.com/smack0007 class=twitter title=Twitter>Twitter</a><li><a href=https://github.com/smack0007 class=github title=Github>GitHub</a><li><a href=https://paypal.me/smack0007 class=coffee title="Buy me a Coffee">Buy me a Coffee</a><li><a href=feed.rss class=rss title=RSS>RSS</a></ul><p class=mb-0>The Blog of Zachary Snow</div></footer></div><script>document.getElementById("navbar-toggler").onclick=function(){document.getElementById("navbarSupportedContent").classList.toggle("collapse")}</script>