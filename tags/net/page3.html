<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"><meta name="description" content=""><meta name="author" content="Zachary Snow"><title>.net</title><base href="https://smack0007.github.io"></base><link rel="stylesheet" type="text/css" href="css/style.css"><link rel="alternate" type="application/rss+xml" title="The Blog of Zachary Snow" href="feed.rss"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"></head><body><div class="wrap"><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><h1><a class="navbar-brand" href="/">The Blog of Zachary Snow</a></h1><button id="navbar-toggler" class="navbar-toggler" type="button" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav mr-auto"><li class="nav-item"><a class="nav-link" href="index.html">Home</a></li><li class="nav-item"><a class="nav-link" href="about.html">About</a></li><li class="nav-item"><a class="nav-link active" href="tags/index.html">Tags<span class="sr-only">(current)</span></a></li></ul><div class="social my-2 my-lg-0"><a href="https://twitter.com/smack0007" class="twitter" title="Twitter"><span class="icon-twitter"></span></a><a href="https://github.com/smack0007" class="github" title="Github"><span class="icon-github"></span></a><a href="https://paypal.me/smack0007" class="coffee" title="Buy me a Coffee"><span class="icon-mug"></span></a><a href="feed.rss" class="rss" title="RSS"><span class="icon-rss"></span></a></div></div></nav><main class="container"><div class="posts"><div class="post"><div class="post-header"><h2><a href="blog/2018/merging-build-directory-props.html">Merging Build.Directory.props</a></h2><div class="meta"><span class="date"><span class="icon-calendar"></span>April 4, 2018</span><span class="tags"><a href="tags/msbuild/index.html"><span class="icon icon-price-tags"></span><span class="tagName">msbuild</span></a><a href="tags/net/index.html"><span class="icon icon-price-tags"></span><span class="tagName">.net</span></a></span></div></div><div class="content"><p>MSBuild version 15 introduced the concept of &quot;Directory.Build.props&quot; files. From the docs:</p>
<ul>
<li><code>Directory.Build.props</code> is a user-defined file that provides customizations to projects under a directory. This
 file is automatically imported from Microsoft.Common.props unless the property <code>ImportDirectoryBuildTargets</code> is
 set to false.</li>
</ul>
<p>What is not stated here is that only one <code>Directory.Build.props</code> will be imported automatically. Imagine your project
exists in the directory <code>C:\repo\src\foo\foo.csproj</code> and there exists a file in both <code>C:\repo\src\Directory.Build.props</code> and
<code>C:\repo\Directory.Build.props</code> then only <code>C:\repo\src\Directory.Build.props</code> will be automatically included when building
<code>C:\repo\src\foo\foo.csproj</code>. If you would like <code>C:\repo\Directory.Build.props</code> to be included as well, then 
<code>C:\repo\src\Directory.Build.props</code> will have to include <code>C:\repo\Directory.Build.props</code> like so:</p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Project</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Import</span> <span class="hljs-attr">Project</span>=<span class="hljs-string">&quot;$([MSBuild]::GetPathOfFileAbove(&#x27;Directory.Build.props&#x27;, &#x27;$(MSBuildThisFileDirectory)../&#x27;))&quot;</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Project</span>&gt;</span>
</code></pre>
<p>This is documented <a href="https://docs.microsoft.com/en-us/visualstudio/msbuild/customize-your-build#use-case-multi-level-merging">here</a>.</p>
</div></div><div class="post"><div class="post-header"><h2><a href="blog/2018/snowball-2.html">Snowball V2.0</a></h2><div class="meta"><span class="date"><span class="icon-calendar"></span>February 23, 2018</span><span class="tags"><a href="tags/net/index.html"><span class="icon icon-price-tags"></span><span class="tagName">.net</span></a><a href="tags/snowball/index.html"><span class="icon icon-price-tags"></span><span class="tagName">snowball</span></a><a href="tags/csharp/index.html"><span class="icon icon-price-tags"></span><span class="tagName">c#</span></a></span></div></div><div class="content"><p>I haven&#39;t written anything new here in a very long time and a lot has happened since then. I started a new job at
<a href="https://www.beumergroup.com">BeumerGroup</a> this year and now work mostly in TypeScript writing an html5 spa app.</p>
<p>In my spare time I&#39;ve decided to working on version 2.0 of my <a href="https://github.com/smack0007/Snowball">Snowball</a>,
my 2D game framework. I&#39;ve been playing around with the idea for a while now. This version will be developed directly
for .net core and will be developed with cross platform capability in mind. The api will look similar but will have
some changes.</p>
<p>The old repo is still available on my <a href="https://github.com/smack0007/">github</a> at <a href="https://github.com/smack0007/Snowball_v1">https://github.com/smack0007/Snowball_v1</a>.</p>
</div></div><div class="post"><div class="post-header"><h2><a href="blog/2014/linq-calls-iequalitycomparer-gethashcode-before-equals.html">LINQ calls IEqualityComparer&lt;T&gt;.GetHashCode() before Equals()</a></h2><div class="meta"><span class="date"><span class="icon-calendar"></span>November 24, 2014</span><span class="tags"><a href="tags/net/index.html"><span class="icon icon-price-tags"></span><span class="tagName">.net</span></a><a href="tags/linq/index.html"><span class="icon icon-price-tags"></span><span class="tagName">linq</span></a></span></div></div><div class="content"><p>This is a problem that has bitten me more than a few times so I thought it was about time to write a blog post about it. It&#39;s one of those problems
that makes you scratch your head for a bit and then the light bulb goes on and you remember you&#39;ve solved this one before. It occurs whenever you
use a LINQ extension method which takes an instance of IEqualityComaparer<T>.</p><a class="readMore" href="blog/2014/linq-calls-iequalitycomparer-gethashcode-before-equals.html">Read More</a></div></div><div class="post"><div class="post-header"><h2><a href="blog/2014/adding-assembly-references-in-roslyn.html">Adding assembly references in Roslyn</a></h2><div class="meta"><span class="date"><span class="icon-calendar"></span>April 15, 2014</span><span class="tags"><a href="tags/net/index.html"><span class="icon icon-price-tags"></span><span class="tagName">.net</span></a><a href="tags/csharp/index.html"><span class="icon icon-price-tags"></span><span class="tagName">c#</span></a><a href="tags/roslyn/index.html"><span class="icon icon-price-tags"></span><span class="tagName">roslyn</span></a></span></div></div><div class="content"><p>In the Roslyn preview that was released at Build 2014 the way references to global assmeblies are added was changed. Before the preview I could use code like this:</p>
<pre><code class="hljs csharp"><span class="hljs-keyword">var</span> compilation = Compilation.Create(assemblyName, <span class="hljs-keyword">new</span> CompilationOptions(OutputKind.DynamicallyLinkedLibrary))
    .AddReferences(MetadataReference.CreateAssemblyReference(<span class="hljs-string">&quot;mscorlib&quot;</span>))
    .AddReferences(MetadataReference.CreateAssemblyReference(<span class="hljs-string">&quot;System&quot;</span>))
    .AddReferences(MetadataReference.CreateAssemblyReference(<span class="hljs-string">&quot;System.Core&quot;</span>))
    .AddReferences(<span class="hljs-keyword">new</span> MetadataFileReference(<span class="hljs-keyword">this</span>.GetType().Assembly.Location))
    .AddSyntaxTrees(syntaxTree);
</code></pre>
<p>The static factory method &quot;MetadataReference.CreateAssemblyReference&quot; added a reference to global assemblies such as &quot;mscorlib.dll&quot; or &quot;System.dll&quot;. In the Roslyn preview,
the same be achieved like so:</p>
<pre><code class="hljs csharp"><span class="hljs-keyword">var</span> assemblyPath = Path.GetDirectoryName(<span class="hljs-keyword">typeof</span>(<span class="hljs-built_in">object</span>).Assembly.Location);

<span class="hljs-keyword">var</span> compilation = CSharpCompilation.Create(assemblyName)
    .WithOptions(<span class="hljs-keyword">new</span> CSharpCompilationOptions(OutputKind.DynamicallyLinkedLibrary))
    .AddReferences(<span class="hljs-keyword">new</span> MetadataFileReference(Path.Combine(assemblyPath, <span class="hljs-string">&quot;mscorlib.dll&quot;</span>)))
    .AddReferences(<span class="hljs-keyword">new</span> MetadataFileReference(Path.Combine(assemblyPath, <span class="hljs-string">&quot;System.dll&quot;</span>)))
    .AddReferences(<span class="hljs-keyword">new</span> MetadataFileReference(Path.Combine(assemblyPath, <span class="hljs-string">&quot;System.Core.dll&quot;</span>)))
    .AddReferences(<span class="hljs-keyword">new</span> MetadataFileReference(Assembly.GetEntryAssembly().Location))
    .AddSyntaxTrees(syntaxTree);
</code></pre>
</div></div><div class="post"><div class="post-header"><h2><a href="blog/2013/using-component-glue-to-build-your-object-graphs-automatically.html">Using Component Glue to build your object graphs automatically</a></h2><div class="meta"><span class="date"><span class="icon-calendar"></span>July 26, 2013</span><span class="tags"><a href="tags/open-source/index.html"><span class="icon icon-price-tags"></span><span class="tagName">open-Source</span></a><a href="tags/dependency-injection/index.html"><span class="icon icon-price-tags"></span><span class="tagName">dependency-injection</span></a><a href="tags/ioc/index.html"><span class="icon icon-price-tags"></span><span class="tagName">ioc</span></a><a href="tags/csharp/index.html"><span class="icon icon-price-tags"></span><span class="tagName">c#</span></a><a href="tags/net/index.html"><span class="icon icon-price-tags"></span><span class="tagName">.net</span></a></span></div></div><div class="content"><p>Component Glue is an IoC container and you use it of course to wire up your object graphs for you. Component Glue can also build your object graphs for you automatically if there are no interfaces involved. Take this example:</p>
<script src="https://gist.github.com/smack0007/6091538.js"></script>

<p>In After.cs, you can see that Component Glue is able to build the entire object graph for us. This will include all future dependencies as well so long as interfaces don&#39;t come into play. Should an interface be needed, you can just bind that single component.</p>
<p>This is a very powerful thing. If one component needs to take on a dependency, just ask for it in the constructor and Component Glue will handle it for you.</p>
</div></div></div><div class="clear"></div><nav aria-label="Page navigation"><ul class="pagination justify-content-center"><li class="page-item"><a href="tags/net/page4.html" class="page-link older">Older</a></li><li class="page-item"><a href="tags/net/page2.html" class="page-link newer">Newer</a></li></ul></nav></main><footer class="p-13 p-md-5 mt-5 text-center text-muted bg-light"><div class="container"><ul class="links"><li><a href="https://twitter.com/smack0007" class="twitter" title="Twitter">Twitter</a></li><li><a href="https://github.com/smack0007" class="github" title="Github">GitHub</a></li><li><a href="https://paypal.me/smack0007" class="coffee" title="Buy me a Coffee">Buy me a Coffee</a></li><li><a href="feed.rss" class="rss" title="RSS">RSS</a></li></ul><p class="mb-0">The Blog of Zachary Snow</p></div></footer></div><script type="text/javascript">document.getElementById('navbar-toggler').onclick = function(){ document.getElementById('navbarSupportedContent').classList.toggle('collapse'); };</script></body></html>