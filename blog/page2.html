<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1"><meta name=description content=""><meta name=author content="Zachary Snow"><title>The Blog of Zachary Snow</title><base href=../ ><link href="https://fonts.googleapis.com/css?family=Open+Sans" rel=stylesheet><link rel=stylesheet type=text/css href=css/style.css><link rel=alternate type=application/rss+xml title="The Blog of Zachary Snow" href=feed.rss><div class=wrap><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><h1><a class=navbar-brand href=/ >The Blog of Zachary Snow</a></h1><button id=navbar-toggler class=navbar-toggler type=button aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation"><span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=index.html>Home</a><li class=nav-item><a class=nav-link href=about.html>About</a><li class=nav-item><a class=nav-link href=tags.html>Tags</a></ul><div class="social my-2 my-lg-0"><a href=https://twitter.com/smack0007 class=twitter title=Twitter><span class=icon-twitter></span></a> <a href=https://github.com/smack0007 class=github title=Github><span class=icon-github></span></a> <a href=https://paypal.me/smack0007 class=coffee title="Buy me a Coffee"><span class=icon-mug></span></a> <a href=feed.rss class=rss title=RSS><span class=icon-rss></span></a></div></div></nav><main class=container><div class=posts><div class=post><h2><a href=blog/2020/checking-for-uncommited-git-changes-in-a-batch-program.html>Checking for uncommited git changes in a batch program</a></h2><div class=meta><span class=date><span class=icon-calendar></span>July 22, 2020</span> <span class=tags><span class=icon-price-tags></span>batch, git</span></div><div class=content><p>Sometimes it's helpful to exit out of a batch script if there are pending changes to a repo. This is done in batch script in a non intuitive way.
<pre><code class="hljs shell">@ECHO OFF
PUSHD %~dp0

SET __HAS_CHANGES=0

REM The loop won't be executed if 'git status -s' doesn't produce any output.
FOR /f "tokens=*" %%i IN ('git status -s') DO ( SET __HAS_CHANGES=1 )

REM Check if the loop was executed and goto EXIT if it was.
IF "%__HAS_CHANGES%" NEQ "0" (
    ECHO There are currently uncommitted changes.
    GOTO EXIT
)

REM Do the work you want to do here.

:EXIT
POPD</code></pre></div></div><div class=post><h2><a href=blog/2020/enum-extension-methods.html>Enum Extension Methods</a></h2><div class=meta><span class=date><span class=icon-calendar></span>July 17, 2020</span> <span class=tags><span class=icon-price-tags></span>c#, enum, extension</span></div><div class=content><p>Did you know you can create extension methods for enums?</p><a class=readMore href=blog/2020/enum-extension-methods.html>Read More</a></div></div><div class=post><h2><a href=blog/2020/disable-csharp-null-checks-for-a-field-or-property.html>Disable C# null checks for a field or property</a></h2><div class=meta><span class=date><span class=icon-calendar></span>January 02, 2020</span> <span class=tags><span class=icon-price-tags></span>c#, nrt, nullable</span></div><div class=content><p>The new nullable reference types in C# are great but sometimes you might need to disable it for a single field or property. You can do that by assigning the value to <code>null</code> and using the <code>!</code> operator.</p><a class=readMore href=blog/2020/disable-csharp-null-checks-for-a-field-or-property.html>Read More</a></div></div><div class=post><h2><a href=blog/2019/use-nameof-to-set-string-variable-to-its-name.html>Use nameof() to set a string variable to its name</a></h2><div class=meta><span class=date><span class=icon-calendar></span>December 17, 2019</span> <span class=tags><span class=icon-price-tags></span>c#, nameof()</span></div><div class=content><p>This is one of those things that should have just been obvious to me but once I saw it I wondered why I had never thought to use it myself. <code>nameof()</code> can be used when declaring a variable to set the value of the variable to the name of the variable:
<pre><code class="hljs csharp"><span class=hljs-keyword>public</span> <span class=hljs-keyword>const</span> <span class=hljs-keyword>string</span> MyVariable1 = <span class=hljs-keyword>nameof</span>(MyVariable1);

<span class=hljs-function><span class=hljs-keyword>public</span> <span class=hljs-keyword>static</span> <span class=hljs-keyword>void</span> <span class=hljs-title>Main</span>(<span class=hljs-params></span>)</span>
{
    Console.WriteLine(MyVariable1);
}</code></pre><a class=readMore href=blog/2019/use-nameof-to-set-string-variable-to-its-name.html>Read More</a></div></div><div class=post><h2><a href=blog/2019/dynamically-loaded-dll-thows-accessviolationexception-on-first-function-call.html>Dynamically loaded DLL thows AccessViolationException on first function call</a></h2><div class=meta><span class=date><span class=icon-calendar></span>October 22, 2019</span> <span class=tags><span class=icon-price-tags></span>c#, LoadLibrary, GetProcAddress</span></div><div class=content><p>In my library <a href=https://github.com/smack0007/GLESDotNet>GLESDotNet</a> I load the <code>libegl.dll</code> and <code>libglesv2.dll</code> DLLs dynamically via the Win32 functions <a href=https://docs.microsoft.com/en-us/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibraryw>LoadLibrary</a> and <a href=https://docs.microsoft.com/en-us/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress>GetProcAddress</a>. I already had everything working via <code>DLLImport</code> but I wanted to be able to load the DLLs from different subdirectories depending on the architecture.<p>For the first test I only loaded the <code>libegl.dll</code> DLL before moving on to the <code>libglesv2.dll</code>. I made the classic programmer mistake of changing too much at one time. The first call to any function in <code>libegl.dll</code> resulted in an <code>AccessViolationException</code>. I couldn't figure out what was going wrong so I decided to revert my changes and try again.<p>I noticed that when the DLLs were in the same directory the <code>AccessViolationException</code> went away. Changing the working directory to the directory of the DLLs also solved the problem once the DLLs were placed in subdirectories again. This led me to believe that loading <code>libegl.dll</code> must be implicitly loading <code>libglesv2.dll</code>. Loading <code>libglesv2.dll</code> via <code>LoadLibrary</code> along with <code>libegl.dll</code> solved the problem.</div></div></div><div class=clear></div><nav aria-label="Page navigation"><ul class="pagination justify-content-center"><li class=page-item><a href=blog/page3.html class="page-link older">Older</a><li class=page-item><a href=index.html class="page-link newer">Newer</a></ul></nav></main><footer class="p-13 p-md-5 mt-5 text-center text-muted bg-light"><div class=container><ul class=links><li><a href=https://twitter.com/smack0007 class=twitter title=Twitter>Twitter</a><li><a href=https://github.com/smack0007 class=github title=Github>GitHub</a><li><a href=https://paypal.me/smack0007 class=coffee title="Buy me a Coffee">Buy me a Coffee</a><li><a href=feed.rss class=rss title=RSS>RSS</a></ul><p class=mb-0>The Blog of Zachary Snow</div></footer></div><script>document.getElementById("navbar-toggler").onclick=function(){document.getElementById("navbarSupportedContent").classList.toggle("collapse")}</script>