<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0"><meta name="description" content=""><meta name="author" content="Zachary Snow"><title>Add the current time to your command prompt</title><base href="https://smack0007.github.io"></base><link rel="stylesheet" type="text/css" href="css/style.css"><link rel="alternate" type="application/rss+xml" title="The Blog of Zachary Snow" href="feed.rss"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"></head><body><div class="wrap"><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><h1><a class="navbar-brand" href="/">The Blog of Zachary Snow</a></h1><button id="navbar-toggler" class="navbar-toggler" type="button" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav mr-auto"><li class="nav-item"><a class="nav-link active" href="index.html">Home<span class="visually-hidden">(current)</span></a></li><li class="nav-item"><a class="nav-link" href="about.html">About</a></li><li class="nav-item"><a class="nav-link" href="tags/index.html">Tags</a></li></ul><div class="social my-2 my-lg-0"><a href="https://twitter.com/smack0007" class="twitter" title="Twitter"><span class="icon-twitter"></span></a><a href="https://github.com/smack0007" class="github" title="Github"><span class="icon-github"></span></a><a href="https://paypal.me/smack0007" class="coffee" title="Buy me a Coffee"><span class="icon-mug"></span></a><a href="feed.rss" class="rss" title="RSS"><span class="icon-rss"></span></a></div></div></nav><main class="container"><div class="posts"><div class="post"><div class="post-header"><h2><a href="blog/2020/add-the-current-time-to-your-command-prompt.html">Add the current time to your command prompt</a></h2><div class="meta"><span class="date"><span class="icon-calendar"></span>November 26, 2020</span><span class="tags"><a href="tags/cmd/index.html"><span class="icon icon-price-tags"></span><span class="tagName">cmd</span></a></span></div></div><div class="content"><p>I am someone who never made the jump to Powershell and to this day still use my
cmd shell with pride. My cmd is very personalized at this point and is available
on <a href="https://github.com/smack0007/cmd">GitHub</a> though I&#39;m not sure how useful it is
for anyone but me. I use git and GitHub to synchronize my cmd between my different
machines.</p>
<!--more-->

<p>When you open cmd and have not personalized it all you are presented with a prompt
that looks like this:</p>
<pre><code class="hljs cmd"><span class="hljs-function">C:\<span class="hljs-title">Users</span>\<span class="hljs-title">smack0007</span>&gt;<span class="hljs-title">_</span></span>
</code></pre>
<p>The folder might be different of course. If you start typing the input will be placed
directly after the <code>&gt;</code> symbol. The string <code>C:\Users\smack0007&gt;</code> is what is known as the
prompt and this string can be customized by either using the <code>PROMPT</code> command or setting
the environment variable <code>PROMPT</code>. If you enter the command <code>PROMPT /?</code> a short description
will be displayed explaining which escape codes are available. The escape codes all start
with <code>$</code>.</p>
<p>The default PROMPT string is <code>$P$G</code>:</p>
<pre><code class="hljs cmd"><span class="hljs-function">C:\<span class="hljs-title">Users</span>\<span class="hljs-title">smack0007</span>&gt;<span class="hljs-title">PROMPT</span> $<span class="hljs-title">P</span>$<span class="hljs-title">G</span>

<span class="hljs-title">C</span>:\<span class="hljs-title">Users</span>\<span class="hljs-title">smack0007</span>&gt;<span class="hljs-title">_</span></span>
</code></pre>
<p>A newline can be added to the PROMPT by using the escape code <code>$_</code>:</p>
<pre><code class="hljs cmd"><span class="hljs-function">C:\<span class="hljs-title">Users</span>\<span class="hljs-title">smack0007</span>&gt;<span class="hljs-title">PROMPT</span> $<span class="hljs-title">P</span>$<span class="hljs-title">G</span>$<span class="hljs-title">_</span>

<span class="hljs-title">C</span>:\<span class="hljs-title">Users</span>\<span class="hljs-title">smack0007</span>&gt;
<span class="hljs-title">_</span></span>
</code></pre>
<p>The time can be added by using the escape code <code>$T</code>. We&#39;ll insert the <code>$T</code> between
the <code>$P</code> and the <code>$G</code>. We&#39;ll also wrap the <code>$T</code> in brackets and add a space between
the time and the path:</p>
<pre><code class="hljs cmd"><span class="hljs-function">C:\<span class="hljs-title">Users</span>\<span class="hljs-title">smack0007</span>&gt;<span class="hljs-title">PROMPT</span> $<span class="hljs-title">P</span> [$<span class="hljs-title">T</span>]$<span class="hljs-title">G</span>$<span class="hljs-title">_</span>

<span class="hljs-title">C</span>:\<span class="hljs-title">Users</span>\<span class="hljs-title">smack0007</span> [10:01:53,36]&gt;
<span class="hljs-title">_</span></span>
</code></pre>
<p>The default format of the <code>$T</code> escape code is not the output I want to have. In this case
it would be nice to cut off the <code>,36</code>. The escape code <code>$H</code> will perform a backspace. We
can use 3 <code>$H</code> to remove the <code>,36</code>:</p>
<pre><code class="hljs cmd"><span class="hljs-function">C:\<span class="hljs-title">Users</span>\<span class="hljs-title">smack0007</span>&gt;<span class="hljs-title">PROMPT</span> $<span class="hljs-title">P</span> [$<span class="hljs-title">T</span>$<span class="hljs-title">H</span>$<span class="hljs-title">H</span>$<span class="hljs-title">H</span>]$<span class="hljs-title">G</span>$<span class="hljs-title">_</span>

<span class="hljs-title">C</span>:\<span class="hljs-title">Users</span>\<span class="hljs-title">smack0007</span> [10:05:27]&gt;
<span class="hljs-title">_</span></span>
</code></pre>
<p>If you close the cmd window and reopen the prompt would be reset. We can set the environment
variable <code>PROMPT</code> with the command <code>SETX</code>:</p>
<pre><code class="hljs cmd"><span class="hljs-function">C:\<span class="hljs-title">Users</span>\<span class="hljs-title">smack0007</span> [10:06:42]&gt;
<span class="hljs-title">SETX</span> &quot;<span class="hljs-title">PROMPT</span>=$<span class="hljs-title">P</span> [$<span class="hljs-title">T</span>$<span class="hljs-title">H</span>$<span class="hljs-title">H</span>$<span class="hljs-title">H</span>]$<span class="hljs-title">G</span>$<span class="hljs-title">_</span>&quot;</span>
</code></pre>
<p>Now your prompt will always contain the time.</p>
</div></div></div><div class="clear"></div></main><footer class="p-13 p-md-5 mt-5 text-center text-muted bg-light"><div class="container"><ul class="links"><li><a href="https://twitter.com/smack0007" class="twitter" title="Twitter">Twitter</a></li><li><a href="https://github.com/smack0007" class="github" title="Github">GitHub</a></li><li><a href="https://paypal.me/smack0007" class="coffee" title="Buy me a Coffee">Buy me a Coffee</a></li><li><a href="feed.rss" class="rss" title="RSS">RSS</a></li></ul><p class="mb-0">The Blog of Zachary Snow</p></div></footer></div><script type="text/javascript">document.getElementById('navbar-toggler').onclick = function(){ document.getElementById('navbarSupportedContent').classList.toggle('collapse'); };</script></body></html>