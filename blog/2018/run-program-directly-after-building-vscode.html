<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"><meta name="description" content=""><meta name="author" content="Zachary Snow"><title>Run a program directly after building in VS Code</title><base href="http://smack0007.github.io"></base><link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet"><link rel="stylesheet" type="text/css" href="css/style.css"><link rel="alternate" type="application/rss+xml" title="The Blog of Zachary Snow" href="feed.rss"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/site.webmanifest"></head><body><div class="wrap"><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><h1><a class="navbar-brand" href="/">The Blog of Zachary Snow</a></h1><button id="navbar-toggler" class="navbar-toggler" type="button" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav mr-auto"><li class="nav-item"><a class="nav-link active" href="index.html">Home<span class="sr-only">(current)</span></a></li><li class="nav-item"><a class="nav-link" href="about.html">About</a></li><li class="nav-item"><a class="nav-link" href="tags/index.html">Tags</a></li></ul><div class="social my-2 my-lg-0"><a href="https://twitter.com/smack0007" class="twitter" title="Twitter"><span class="icon-twitter"></span></a><a href="https://github.com/smack0007" class="github" title="Github"><span class="icon-github"></span></a><a href="https://paypal.me/smack0007" class="coffee" title="Buy me a Coffee"><span class="icon-mug"></span></a><a href="feed.rss" class="rss" title="RSS"><span class="icon-rss"></span></a></div></div></nav><main class="container"><div class="posts"><div class="post"><div class="post-header"><h2><a href="blog/2018/run-program-directly-after-building-vscode.html">Run a program directly after building in VS Code</a></h2><div class="meta"><span class="date"><span class="icon-calendar"></span>April 11, 2018</span><span class="tags"><a href="tags/net/index.html"><span class="icon icon-price-tags"></span><span class="tagName">.net</span></a><a href="tags/netcore/index.html"><span class="icon icon-price-tags"></span><span class="tagName">.netcore</span></a><a href="tags/msbuild/index.html"><span class="icon icon-price-tags"></span><span class="tagName">msbuild</span></a><a href="tags/vscode/index.html"><span class="icon icon-price-tags"></span><span class="tagName">vscode</span></a></span></div></div><div class="content"><p>Whenever I have a program that is just a generator of some kind I like to have that
program execute directly after having built the program successfully. I&#39;m going to show
how to run the program via the dotnet cli but this trick can easily be applied to regular
.NET programs or any program which is built using MSBuild.</p>
<!--more-->

<p>Add the following to your csproj file:</p>
<pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Target</span> <span class="hljs-attr">Name</span>=<span class="hljs-string">&quot;ExecuteAfterBuild&quot;</span> <span class="hljs-attr">AfterTargets</span>=<span class="hljs-string">&quot;AfterBuild&quot;</span> <span class="hljs-attr">Condition</span>=<span class="hljs-string">&quot; $(ExecuteAfterBuild) == true &quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Exec</span> <span class="hljs-attr">WorkingDirectory</span>=<span class="hljs-string">&quot;$(OutputPath)&quot;</span> <span class="hljs-attr">Command</span>=<span class="hljs-string">&quot;dotnet $(AssemblyName).dll&quot;</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Target</span>&gt;</span>
</code></pre>
<p>This instructs MSBuild to execute the dotnet cli in the output directory of the assembly if the property
<code>ExecuteAfterBuild</code> is set to true. This can be accomplished via the dotnet cli:</p>
<pre><code class="hljs bat">dotnet build MyProj.csproj -p:ExecuteAfterBuild=true
</code></pre>
<p>Or if you&#39;re using VS Code you can set it as a parameter in your tasks.json:</p>
<pre><code class="hljs json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">&quot;version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2.0.0&quot;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;tasks&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">&quot;label&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;generate&quot;</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">&quot;group&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;build&quot;</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">&quot;command&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;dotnet&quot;</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;process&quot;</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">&quot;args&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
                <span class="hljs-string">&quot;build&quot;</span><span class="hljs-punctuation">,</span>
                <span class="hljs-string">&quot;${workspaceFolder}/MyProj.csproj&quot;</span><span class="hljs-punctuation">,</span>
                <span class="hljs-string">&quot;-p:ExecuteAfterBuild=true&quot;</span>
            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">&quot;problemMatcher&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;$msCompile&quot;</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>Then you can use the build shortcut <code>Ctrl + Shift + B</code> to build your project and
execute it directly.</p>
</div></div></div><div class="clear"></div></main><footer class="p-13 p-md-5 mt-5 text-center text-muted bg-light"><div class="container"><ul class="links"><li><a href="https://twitter.com/smack0007" class="twitter" title="Twitter">Twitter</a></li><li><a href="https://github.com/smack0007" class="github" title="Github">GitHub</a></li><li><a href="https://paypal.me/smack0007" class="coffee" title="Buy me a Coffee">Buy me a Coffee</a></li><li><a href="feed.rss" class="rss" title="RSS">RSS</a></li></ul><p class="mb-0">The Blog of Zachary Snow</p></div></footer></div><script type="text/javascript">document.getElementById('navbar-toggler').onclick = function(){ document.getElementById('navbarSupportedContent').classList.toggle('collapse'); };</script></body></html>