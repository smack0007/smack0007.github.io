<!doctype html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1"><meta name=description content=""><meta name=author content="Zachary Snow"><title>The Blog of Zachary Snow</title><base href=../ ><link href="https://fonts.googleapis.com/css?family=Open+Sans" rel=stylesheet><link rel=stylesheet type=text/css href=css/style.css><link rel=alternate type=application/rss+xml title="The Blog of Zachary Snow" href=feed.rss><div class=wrap><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><h1><a class=navbar-brand href=/ >The Blog of Zachary Snow</a></h1><button id=navbar-toggler class=navbar-toggler type=button aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation"><span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=index.html>Home</a><li class=nav-item><a class=nav-link href=about.html>About</a><li class=nav-item><a class=nav-link href=tags.html>Tags</a></ul><div class="social my-2 my-lg-0"><a href=https://twitter.com/smack0007 class=twitter title=Twitter><span class=icon-twitter></span></a> <a href=https://github.com/smack0007 class=github title=Github><span class=icon-github></span></a> <a href=https://paypal.me/smack0007 class=coffee title="Buy me a Coffee"><span class=icon-mug></span></a> <a href=feed.rss class=rss title=RSS><span class=icon-rss></span></a></div></div></nav><main class=container><div class=posts><div class=post><h2><a href=blog/2010/winforms-and-mvc.html>WinForms and MVC</a></h2><div class=meta><span class=date><span class=icon-calendar></span>May 26, 2010</span> <span class=tags><span class=icon-price-tags></span>MVC, WinForms</span></div><div class=content><p>I recently became interested in doing MVC inside of a Windows Forms app. I found a few MVC frameworks which work with WinForms (<a href=http://stackoverflow.com/questions/2406/looking-for-a-mvc-sample-for-winforms>see here</a>) but they didn't really interest me. Too heavy I felt for what I was looking to do. I ended up with a solution looking something like this:<p>There is really only one controller and that is the "Application" class. It contains all the methods your app can call to manipulate your models, which are in the "Data" folder / namespace. The "WinFormsApplication" class inherits from the "Application" class and just sets the view to an instance of "WinFormsView". The "Application" class communicates with the view through the "IView" interface. The "WinFormsView" class is a Windows Forms implementation of that view. The "Application" class and your models are not coupled in any way to your Windows Forms implementation of the view.<p>If you want you view to be as dumb as possible, your view can communicate with the "Application" class only through events. In my case though, I choose to go with a smart view and have the view call back to methods in the "Application" class. The "Application" class tells the view when models are loaded and unloaded. The view subscribes to events on the models and reacts to the events.<p>All of my forms and controls communicate with each other through the "WinFormsView" class. One control might change the value of a property in the "WinFormsView" class and another control might subscribe to a change event and update as necessary. This keeps the controls and forms slightly less coupled.<p>It's not a perfect implementation of MVC but it keeps my model logic decoupled enough from my view logic that I can later implement a WPF version of the view I think.</div></div><div class=post><h2><a href=blog/2010/drawing-rectangles-with-spritebatch.html>Drawing Rectangles with SpriteBatch</a></h2><div class=meta><span class=date><span class=icon-calendar></span>March 29, 2010</span> <span class=tags><span class=icon-price-tags></span>C#, Code Snippets, Xna</span></div><div class=content><p>Just a quick code snippet which adds an extension method for drawing Rectangles to SpriteBatch:
<pre><code class=language-c#><div class=HtmlSyntaxHighlighterDotNet><span class=k>public</span> <span class=k>static</span> <span class=k>class</span> <span class="id ty">SpriteBatchHelper</span>
<span class=t>{</span>
	<span class=k>static</span> <span class=id>Texture2D</span> <span class=id>pixel</span><span class=t>;</span>

	<span class=k>private</span> <span class=k>static</span> <span class=k>void</span> <span class="id m">LoadPixel</span><span class=t>(</span><span class="id ty">GraphicsDevice</span> <span class=id>graphicsDevice</span><span class=t>)</span>
	<span class=t>{</span>
		<span class="k sta">if</span><span class=t>(</span><span class=id>pixel</span> <span class=t>==</span> <span class=k>null</span><span class=t>)</span>
		<span class=t>{</span>
			<span class=id>pixel</span> <span class=t>=</span> <span class=k>new</span> <span class="id ty">Texture2D</span><span class=t>(</span><span class=id>graphicsDevice</span><span class=t>,</span> <span class=n>1</span><span class=t>,</span> <span class=n>1</span><span class=t>)</span><span class=t>;</span>
			<span class=id>pixel</span><span class=t>.</span><span class=id>SetData</span><span class=t>&</span><span class=id>lt</span><span class=t>;</span><span class=id>Color</span><span class=t>&</span><span class=id>gt</span><span class=t>;</span><span class=t>(</span><span class=k>new</span> <span class=id>Color</span><span class=t>[</span><span class=t></span><span class=t>]</span> <span class=t>{</span> <span class=id>Color</span><span class=t>.</span><span class=id>White</span> <span class=t>}</span><span class=t>)</span><span class=t>;</span>
		<span class=t>}</span>
	<span class=t>}</span>

	<span class=k>public</span> <span class=k>static</span> <span class=k>void</span> <span class="id m">DrawRectangle</span><span class=t>(</span><span class=k>this</span> <span class="id ty">SpriteBatch</span> <span class=id>spriteBatch</span><span class=t>,</span> <span class="id ty">Rectangle</span> <span class=id>rectangle</span><span class=t>,</span> <span class="id ty">Color</span> <span class=id>color</span><span class=t>)</span>
	<span class=t>{</span>
		<span class="id inv">LoadPixel</span><span class=t>(</span><span class=id>spriteBatch</span><span class=t>.</span><span class=id>GraphicsDevice</span><span class=t>)</span><span class=t>;</span>
		<span class=id>spriteBatch</span><span class=t>.</span><span class="id inv">Draw</span><span class=t>(</span><span class=id>pixel</span><span class=t>,</span> <span class=id>rectangle</span><span class=t>,</span> <span class=id>color</span><span class=t>)</span><span class=t>;</span>
	<span class=t>}</span>
<span class=t>}</span>
<span class=t></span></div></code></pre></div></div><div class=post><h2><a href=blog/2010/csharp-extension-methods-in-your-own-library.html>C# Extension Methods in your own Library</a></h2><div class=meta><span class=date><span class=icon-calendar></span>March 08, 2010</span> <span class=tags><span class=icon-price-tags></span>C#, Extension Methods</span></div><div class=content><p>Normally I use extension methods in C# to extend a library that I did not write and therefore I have no control over. There are situations where it makes sense to use extension methods for a library that you yourself are writing.<p>For example, when you have interfaces in your library. You want to keep the number of methods in that interface as low as possible so that classes implementing the interface don't have to do a lot of heavy lifting. This means cutting out methods in an interface that are for the most part just syntactic sugar for another method in the interface.
<pre><code class=language-c#><div class=HtmlSyntaxHighlighterDotNet>
<span class=k>public</span> <span class=k>interface</span> <span class=id>IServiceContainer</span>
<span class=t>{</span>
    <span class=k>void</span> <span class="id m">AddService</span><span class=t>(</span><span class="id ty">Type</span> <span class=id>type</span><span class=t>,</span> <span class="id ty">Object</span> <span class=id>provider</span><span class=t>)</span><span class=t>;</span>
    <span class=k>object</span> <span class="id m">GetService</span><span class=t>(</span><span class="id ty">Type</span> <span class=id>type</span><span class=t>)</span><span class=t>;</span>
<span class=t>}</span>

<span class=k>public</span> <span class=k>static</span> <span class=k>class</span> <span class="id ty">IServiceContainerExtensions</span>
<span class=t>{</span>
    <span class=k>public</span> <span class=k>static</span> <span class=k>void</span> <span class=id>AddService</span>&<span class=t></span><span class="id ty">lt</span>;<span class="id ty">T</span>&<span class="id ty">gt</span>;<span class=t>(</span><span class="id ty"></span><span class=t></span><span class="id ty"></span><span class=t></span><span class=k>this</span> <span class=t></span><span class="id ty">IServiceContainer</span> <span class="id ty">services</span><span class=t>,</span> <span class=k>object</span> <span class="id ty">provider</span><span class=t></span><span class=t></span>)
<span class="id ty"></span>    <span class=t>{</span>
        <span class=id>services</span><span class=t>.</span><span class="id inv">AddService</span><span class=t>(</span><span class=k>typeof</span><span class=t>(</span><span class="id ty">T</span><span class=t>)</span><span class=t>,</span> <span class=id>provider</span><span class=t>)</span><span class=t>;</span>
    <span class=t>}</span>
<span class=t></span>
    <span class=k>public</span> <span class=k>static</span> <span class=id>T</span> <span class=id>GetService</span>&<span class=t></span><span class="id ty">lt</span>;<span class="id ty">T</span>&<span class="id ty">gt</span>;<span class=t>(</span><span class="id ty"></span><span class=t></span><span class="id ty"></span><span class=t></span><span class=k>this</span> <span class=t></span><span class="id ty">IServiceContainer</span> <span class="id ty">services</span><span class=t></span><span class=t></span>) <span class="id ty">where</span> <span class="id ty">T</span> : <span class=t></span><span class=k>class</span>
<span class="id ty"></span>    <span class=t>{</span>
<span class=t></span>        return <span class="id ty">services</span><span class=t>.</span><span class="id ty">GetService</span><span class=t>(</span><span class="id ty"></span><span class=t></span><span class="id ty"></span><span class=t></span>typeof<span class=t>(</span><span class="id ty">T</span><span class=t></span><span class="id ty"></span><span class=t>)</span>) as <span class="id ty">T</span>;
    <span class=t>}</span>

    <span class=k>public</span> <span class=k>static</span> <span class=id>T</span> <span class=id>GetRequiredService</span><span class=t></span>&<span class=id>lt</span>;<span class=id>T</span>&<span class=id>gt</span>;<span class=t>(</span><span class=id></span><span class=t></span><span class=id></span><span class=t></span><span class=k>this</span> <span class=t></span><span class="id ty">IServiceContainer</span> <span class=id>services</span><span class=t></span><span class=t></span>) <span class=id>where</span> <span class=id>T</span> : <span class=t></span><span class=k>class</span>
<span class="id ty"></span>    <span class=t>{</span>
<span class=t></span>        <span class=id>T</span> <span class=id>service</span> <span class=t>=</span> <span class=id>services</span><span class=t>.</span><span class="id inv">GetService</span><span class=t>(</span><span class=k>typeof</span><span class=t>(</span><span class="id ty">T</span><span class=t>)</span><span class=t>)</span> <span class=k>as</span> <span class=id>T</span><span class=t>;</span>

        if<span class=t>(</span><span class=id>service</span> <span class=t></span><span class=id></span><span class=t></span>== null)
            throw <span class=k>new</span> <span class=id>ServiceNotFoundException</span><span class=t>(</span>typeof<span class=t>(</span><span class="id ty">T</span><span class=t></span><span class="id ty"></span><span class=t>)</span><span class=id></span><span class=t>)</span><span class=t>;</span>

        return <span class=id>service</span>;
    }
}

<span class=t></span></div></code></pre><p>All of the methods in IServiceContainerExtensions are just helper methods for method in IServiceContainer. By making them extension methods in our own library though, we've made the barrier to entry lower. Other people can implement the interface and in a sense "inherit" the helper methods as well.</div></div><div class=post><h2><a href=blog/2010/creating-and-consuming-services-in-your-xna-game.html>Creating and consuming services in your XNA Game</a></h2><div class=meta><span class=date><span class=icon-calendar></span>February 18, 2010</span> <span class=tags><span class=icon-price-tags></span></span></div><div class=content><p>The <a href=http://msdn.microsoft.com/en-us/library/microsoft.xna.framework.gameservicecontainer.aspx>GameServiceContainer</a> implements the <a href=http://msdn.microsoft.com/en-us/library/system.iserviceprovider.aspx>IServiceProvider</a> interface and the MSDN documentation says about the IServiceProvider interface:<blockquote>Defines a mechanism for retrieving a service object; that is, an object that provides custom support to other objects.</blockquote><p>This article will "<em>attempt</em>" to describe how can you use the GameServiceContainer in your XNA game, in both your GameComponent(s) and your game's entity objects.</p><a class=readMore href=blog/2010/creating-and-consuming-services-in-your-xna-game.html>Read More</a></div></div><div class=post><h2><a href=blog/2010/changing-the-platformtarge-in-visual-c-express.html>Changing the PlatformTarget in Visual C# Express</a></h2><div class=meta><span class=date><span class=icon-calendar></span>January 18, 2010</span> <span class=tags><span class=icon-price-tags></span>MSBuild</span></div><div class=content><p>Some project types in Visual C# Express (Empty Project) will not allow you to change the PlatformTarget from the UI. You can still change the target platform though by editing the .csproj file in a text editor. Close the project and open it up in your favorite text editor (I use <a href=http://notepad-plus.sourceforge.net/ >Notpad++</a>). The .csproj file is really just a XML file. You should see somewhere in the file something like:
<pre><code class=language-xml><span class=xmlDelimiter>&lt;</span><span class=xmlName>PropertyGroup</span> <span class=xmlAttribute>Condition</span><span class=xmlDelimiter>=</span><span class=xmlAttributeQuotes>"</span><span class=xmlAttributeValue> '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' </span><span class=xmlAttributeQuotes>"</span><span class=xmlDelimiter>></span>
		....
	<span class=xmlDelimiter>&lt;/</span><span class=xmlName>PropertyGroup</span><span class=xmlDelimiter>></span>
	<span class=xmlDelimiter>&lt;</span><span class=xmlName>PropertyGroup</span> <span class=xmlAttribute>Condition</span><span class=xmlDelimiter>=</span><span class=xmlAttributeQuotes>"</span><span class=xmlAttributeValue> '$(Configuration)|$(Platform)' == 'Release|AnyCPU' </span><span class=xmlAttributeQuotes>"</span><span class=xmlDelimiter>></span>
		....
	<span class=xmlDelimiter>&lt;/</span><span class=xmlName>PropertyGroup</span><span class=xmlDelimiter>></span></code></pre><p>Inside the PropertyGroup elements, add the PlatformTarget element:
<pre><code class=language-xml><span class=xmlDelimiter>&lt;</span><span class=xmlName>PropertyGroup</span> <span class=xmlAttribute>Condition</span><span class=xmlDelimiter>=</span><span class=xmlAttributeQuotes>"</span><span class=xmlAttributeValue> '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' </span><span class=xmlAttributeQuotes>"</span><span class=xmlDelimiter>></span>
		....
		<span class=xmlDelimiter>&lt;</span><span class=xmlName>PlatformTarget</span><span class=xmlDelimiter>></span>x86<span class=xmlDelimiter>&lt;/</span><span class=xmlName>PlatformTarget</span><span class=xmlDelimiter>></span>
	<span class=xmlDelimiter>&lt;/</span><span class=xmlName>PropertyGroup</span><span class=xmlDelimiter>></span>
	<span class=xmlDelimiter>&lt;</span><span class=xmlName>PropertyGroup</span> <span class=xmlAttribute>Condition</span><span class=xmlDelimiter>=</span><span class=xmlAttributeQuotes>"</span><span class=xmlAttributeValue> '$(Configuration)|$(Platform)' == 'Release|AnyCPU' </span><span class=xmlAttributeQuotes>"</span><span class=xmlDelimiter>></span>
		....
		<span class=xmlDelimiter>&lt;</span><span class=xmlName>PlatformTarget</span><span class=xmlDelimiter>></span>x86<span class=xmlDelimiter>&lt;/</span><span class=xmlName>PlatformTarget</span><span class=xmlDelimiter>></span>
	<span class=xmlDelimiter>&lt;/</span><span class=xmlName>PropertyGroup</span><span class=xmlDelimiter>></span></code></pre><p>Save the file and open your project back up. Your project's output should now target only x86.</div></div></div><div class=clear></div><nav aria-label="Page navigation"><ul class="pagination justify-content-center"><li class=page-item><a href=blog/page14.html class="page-link older">Older</a><li class=page-item><a href=blog/page12.html class="page-link newer">Newer</a></ul></nav></main><footer class="p-13 p-md-5 mt-5 text-center text-muted bg-light"><div class=container><ul class=links><li><a href=https://twitter.com/smack0007 class=twitter title=Twitter>Twitter</a><li><a href=https://github.com/smack0007 class=github title=Github>GitHub</a><li><a href=https://paypal.me/smack0007 class=coffee title="Buy me a Coffee">Buy me a Coffee</a><li><a href=feed.rss class=rss title=RSS>RSS</a></ul><p class=mb-0>The Blog of Zachary Snow</div></footer></div><script>document.getElementById("navbar-toggler").onclick=function(){document.getElementById("navbarSupportedContent").classList.toggle("collapse")}</script>